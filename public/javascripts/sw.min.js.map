{"version":3,"names":[],"mappings":"","sources":["sw.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({\"/home/ximera/ximera/package.json\":[function(require,module,exports){\nmodule.exports={\n  \"name\": \"ximera\",\n  \"description\": \"Ximera interactive textbook server\",\n  \"version\": \"1.8.2\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"node app.js\",\n    \"test\": \"mocha\",\n    \"install\": \"napa tchapi/pagedown-bootstrap\",\n    \"postinstall\": \"gulp\"\n  },\n  \"dependencies\": {\n    \"annotator\": \"^2.0.0-dev.2\",\n    \"artillery\": \"^1.6.0-22\",\n    \"async\": \"2.4.0\",\n    \"babel-core\": \"^6.26.0\",\n    \"babel-preset-es2015-node\": \"^6.1.1\",\n    \"babelify\": \"^8.0.0\",\n    \"base64url\": \"^2.0.0\",\n    \"bencode\": \"^1.0.0\",\n    \"body-parser\": \"1.13.3\",\n    \"bootstrap\": \"4.0.0-alpha.6\",\n    \"brush-javascript\": \"4.0.0\",\n    \"brush-python\": \"4.0.0\",\n    \"buffer24\": \"0.0.2\",\n    \"bull\": \"^3.3.10\",\n    \"canon\": \"^0.4.1\",\n    \"cheerio\": \"0.19.0\",\n    \"codemirror\": \"^5.36.0\",\n    \"color\": \"0.11.3\",\n    \"connect-mongo\": \"0.8.2\",\n    \"cookie-parser\": \"1.3.5\",\n    \"crypto\": \"0.0.3\",\n    \"csv\": \"0.4.6\",\n    \"diff-match-patch\": \"^1.0.0\",\n    \"domino\": \"1.0.19\",\n    \"dotenv\": \"^4.0.0\",\n    \"eonasdan-bootstrap-datetimepicker\": \"4.15.35\",\n    \"errorhandler\": \"1.4.2\",\n    \"express\": \"4.13.3\",\n    \"express-rate-limit\": \"^2.7.0\",\n    \"express-session\": \"1.11.3\",\n    \"express-winston\": \"^2.5.1\",\n    \"faker\": \"^4.1.0\",\n    \"fast-crc32c\": \"^1.0.4\",\n    \"file\": \"0.2.2\",\n    \"font-awesome\": \"^4.7.0\",\n    \"fs-extra\": \"^3.0.1\",\n    \"fstream\": \"1.0.10\",\n    \"git-http-backend\": \"^1.0.2\",\n    \"github\": \"0.2.4\",\n    \"gpg\": \"^0.6.0\",\n    \"gridfs-stream\": \"1.1.1\",\n    \"guppy-dev\": \"github:daniel3735928559/guppy#b5055b963fdbea5c6c1e92dbf58fdaf3ea0cd8ba\",\n    \"htmllint-cli\": \"0.0.6\",\n    \"ims-lti\": \"3.0.1\",\n    \"ip\": \"1.1.3\",\n    \"isotope-layout\": \"2.2.2\",\n    \"jison\": \"^0.4.18\",\n    \"jquery\": \"3.1.0\",\n    \"jquery-ui\": \"1.12.0\",\n    \"jquery.kinetic\": \"^2.2.4\",\n    \"jquery.transit\": \"^0.9.12\",\n    \"jsondiffpatch\": \"^0.2.5\",\n    \"markdown\": \"0.5.0\",\n    \"math-expressions\": \"^2.0.0-alpha1\",\n    \"mathjax\": \"^2.7.4\",\n    \"method-override\": \"^2.3.10\",\n    \"mocha\": \"^3.5.3\",\n    \"moment\": \"2.19.3\",\n    \"mongodb\": \"2.2.19\",\n    \"mongoose\": \"4.1.1\",\n    \"morgan\": \"1.6.1\",\n    \"node-sass\": \"^4.9.2\",\n    \"node-uuid\": \"1.4.7\",\n    \"nodegit\": \"0.25.0\",\n    \"passport\": \"0.2.2\",\n    \"passport-google-openidconnect\": \"0.0.4\",\n    \"passport-local\": \"1.0.0\",\n    \"passport-oauth2\": \"1.1.2\",\n    \"passport-twitter\": \"1.0.3\",\n    \"pm2\": \"^2.10.2\",\n    \"pug\": \"^2.0.3\",\n    \"pug-lint\": \"^2.5.0\",\n    \"redis\": \"^2.8.0\",\n    \"requirejs\": \"2.1.20\",\n    \"send-seekable\": \"^1.0.4\",\n    \"serve-favicon\": \"2.3.0\",\n    \"shipit\": \"^1.0.2\",\n    \"shipit-cli\": \"^3.0.0\",\n    \"shipit-deploy\": \"^2.5.1\",\n    \"shipit-npm\": \"^0.2.0\",\n    \"shipit-pm2\": \"0.0.4\",\n    \"snappy\": \"^6.3.4\",\n    \"striptags\": \"^3.1.1\",\n    \"supertest-session\": \"^3.1.2\",\n    \"syntaxhighlighter\": \"^4.0.1\",\n    \"tether\": \"^1.4.3\",\n    \"uint32\": \"^0.2.1\",\n    \"underscore\": \"1.8.3\",\n    \"uniq\": \"^1.0.1\",\n    \"uuid\": \"^3.2.1\",\n    \"validator\": \"4.5.0\",\n    \"versionator\": \"^2.0.0\",\n    \"winston\": \"1.0.1\",\n    \"ws\": \"^6.0.0\",\n    \"xxhash\": \"^0.2.4\",\n    \"xxhashjs\": \"^0.2.2\"\n  },\n  \"aliasify\": {\n    \"aliases\": {\n      \"mathjax\": \"./public/javascripts/mathjax.js\",\n      \"mathjax2\": \"./node_modules/mathjax/unpacked/MathJax.js\",\n      \"codemirror-javascript\": \"./node_modules/codemirror/mode/javascript/javascript.js\",\n      \"jquery-fullsizable\": \"./node_modules/jquery-fullsizable/js/jquery-fullsizable.min.js\",\n      \"pagedown-converter\": \"./node_modules/pagedown-bootstrap/Markdown.Converter.js\",\n      \"pagedown-sanitizer\": \"./node_modules/pagedown-bootstrap/Markdown.Sanitizer.js\",\n      \"pagedown-editor\": \"./node_modules/pagedown-bootstrap/Markdown.Editor.js\"\n    }\n  },\n  \"devDependencies\": {\n    \"aliasify\": \"1.9.0\",\n    \"babel-preset-env\": \"^1.6.1\",\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"browserify\": \"13.0.0\",\n    \"chai\": \"^3.5.0\",\n    \"gulp\": \"^4.0.2\",\n    \"gulp-if\": \"2.0.0\",\n    \"gulp-less\": \"3.0.5\",\n    \"gulp-minify-css\": \"1.2.4\",\n    \"gulp-pug-lint\": \"github:akoutmos/gulp-pug-lint\",\n    \"gulp-sass\": \"^3.2.1\",\n    \"gulp-sourcemaps\": \"1.6.0\",\n    \"gulp-util\": \"3.0.7\",\n    \"lodash.assign\": \"4.0.7\",\n    \"napa\": \"2.3.0\",\n    \"should\": \"^9.0.2\",\n    \"supertest\": \"^1.2.0\",\n    \"vinyl-buffer\": \"^1.0.1\",\n    \"vinyl-source-stream\": \"^2.0.0\",\n    \"watchify\": \"3.7.0\",\n    \"yargs\": \"3.10.0\"\n  },\n  \"optionalDependencies\": {\n    \"bufferutil\": \"^4.0.0\",\n    \"utf-8-validate\": \"^5.0.1\"\n  }\n}\n\n},{}],\"/home/ximera/ximera/public/javascripts/sw.js\":[function(require,module,exports){\n'use strict';\n\nvar version = require('../../package.json').version;\n\nvar mathjaxRoot = '/node_modules/mathjax/';\n\nvar cacheUrls = ['/public/v' + version + '/javascripts/main.min.js', '/public/v' + version + '/stylesheets/base.css', '/public/v' + version + '/images/logo/logo.svg', '/public/v' + version + '/images/osu/osu-web-footer-wordmark-rev.png', '/public/json/symbols.json', '/node_modules/guppy-dev/build/guppy-default.min.css', mathjaxRoot + '/jax/input/TeX/jax.js', mathjaxRoot + '/jax/element/mml/jax.js', mathjaxRoot + '/jax/output/HTML-CSS/jax.js', mathjaxRoot + '/jax/output/HTML-CSS/fonts/TeX/fontdata.js', mathjaxRoot + '/extensions/TeX/AMSmath.js', mathjaxRoot + '/extensions/MathEvents.js', mathjaxRoot + '/extensions/TeX/AMSsymbols.js', mathjaxRoot + '/extensions/TeX/noErrors.js', mathjaxRoot + '/extensions/TeX/noUndefined.js', mathjaxRoot + '/extensions/TeX/color.js', mathjaxRoot + '/extensions/TeX/cancel.js', mathjaxRoot + '/extensions/toMathML.js', mathjaxRoot + '/extensions/AssistiveMML.js', mathjaxRoot + '/extensions/MathMenu.js', mathjaxRoot + '/extensions/MathZoom.js', mathjaxRoot + '/extensions/a11y/accessibility-menu.js'];\n\n//GET /node_modules/mathjax//jax/input/TeX/config.js?V=2.7.3 200 8.363 ms - 1268\n//GET /node_modules/mathjax//extensions/tex2jax.js?V=2.7.3 200 5.973 ms - 6959\n//GET /node_modules/mathjax//jax/output/HTML-CSS/config.js?V=2.7.3 200 8.134 ms - 3570\n//GET /node_modules/mathjax//extensions/fast-preview.js?V=2.7.3 200 5.903 ms - 3177\n//GET /node_modules/mathjax//extensions/CHTML-preview.js?V=2.7.3 200 5.184 ms - 829\n\nself.addEventListener('install', function (event) {\n  event.waitUntil(caches.open(version).then(function (cache) {\n    return cache.addAll(cacheUrls);\n  }));\n});\n\nself.addEventListener('activate', function (event) {\n  event.waitUntil(caches.keys().then(function (cacheNames) {\n    return Promise.all(cacheNames.filter(function (cacheName) {\n      return cacheName != version;\n    }).map(function (cacheName) {\n      return caches.delete(cacheName);\n    }));\n  }));\n});\n\n// cache woff\nself.addEventListener('fetch', function (event) {\n  // Eliminate query strings from mathjax requests\n  if (event.request.url.startsWith(mathjaxRoot)) {\n    var requestClone = event.request.clone();\n\n    var normalizedUrl = new URL(event.request.url);\n    normalizedUrl.search = '';\n\n    return event.respondWith(caches.match(normalizedUrl).then(function (response) {\n      console.log(\"Found!\", response);\n      if (response !== undefined) {\n        return response;\n      } else {\n        return fetch(event.request);\n      }\n    }));\n  }\n\n  event.respondWith(caches.open(version).then(function (cache) {\n    return cache.match(event.request).then(function (response) {\n      // caches.match() always resolves\n      // but in case of success response will have value\n      if (response !== undefined) {\n        return response;\n      } else {\n        return fetch(event.request);\n      }\n    });\n  }));\n\n  return;\n\n  event.respondWith(caches.match(event.request).then(function (response) {\n    // caches.match() always resolves\n    // but in case of success response will have value\n    if (response !== undefined) {\n      return response;\n    } else {\n      return fetch(event.request).then(function (response) {\n        // response may be used only once\n        // we need to save clone to put one copy in cache\n        // and serve second one\n        var responseClone = response.clone();\n\n        caches.open(version).then(function (cache) {\n          cache.put(event.request, responseClone);\n        });\n        return response;\n      }).catch(function () {\n        return caches.match('/sw-test/gallery/myLittleVader.jpg');\n      });\n    }\n  }));\n});\n\n},{\"../../package.json\":\"/home/ximera/ximera/package.json\"}]},{},[\"/home/ximera/ximera/public/javascripts/sw.js\"]);\n"],"file":"sw.min.js","sourceRoot":"/source/"}